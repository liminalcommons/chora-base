# .dockerignore - Optimize Docker build context
# Excludes unnecessary files from Docker image builds
# Pattern from mcp-n8n: Reduced build context from 80MB â†’ 15MB (81% reduction)
# Benefits: 6x faster context transfer, smaller images, no secrets leakage
# Generated by chora-base template

# === Version Control ===
.git
.gitignore
.gitattributes
.github/

# === Python Cache and Build Artifacts ===
# Pattern: Use glob patterns to catch nested caches
**/__pycache__
**/*.py[cod]
**/*$py.class
*.so
.Python
build/
develop-eggs/
dist/
downloads/
eggs/
.eggs/
lib/
lib64/
parts/
sdist/
var/
wheels/
pip-wheel-metadata/
share/python-wheels/
**/*.egg-info/
.installed.cfg
*.egg
MANIFEST

# === Testing and Coverage ===
.pytest_cache/
.coverage
.coverage.*
htmlcov/
.tox/
.nox/
coverage.xml
*.cover
.hypothesis/
[% if include_tests -%]
# Note: tests/ directory NOT excluded here
# Strategy from mcp-n8n: Let Dockerfile COPY control inclusion
# - Production Dockerfile: Doesn't COPY tests/
# - Dockerfile.test: Explicitly COPY tests/
# This avoids needing separate .dockerignore files
[% endif -%]

# === Type Checking and Linting ===
.mypy_cache/
.ruff_cache/
.dmypy.json
dmypy.json
[% if include_pre_commit -%]
.pre-commit-config.yaml
[% endif -%]

# === IDEs and Editors ===
.vscode/
.idea/
.claude/
*.swp
*.swo
*~
.DS_Store
*.sublime-project
*.sublime-workspace

# === Environment and Secrets ===
.env
.env.*
!.env.example
*.pem
*.key
*.crt
*.p12

# === Logs ===
logs/
*.log
[% if project_type == 'mcp_server' -%]
event_logs/
[% endif -%]

# === Documentation (not needed in runtime) ===
docs/
*.md
!README.md
[% if include_documentation_standard -%]
user-docs/
project-docs/
dev-docs/
DOCUMENTATION_STANDARD.md
DOCUMENTATION_METRICS.md
[% endif -%]
[% if include_vision_docs -%]
ROADMAP.md
[% endif -%]
[% if include_contributing -%]
CONTRIBUTING.md
[% endif -%]
[% if include_development_docs -%]
DEVELOPMENT.md
[% endif -%]
[% if include_troubleshooting -%]
TROUBLESHOOTING.md
[% endif -%]

# === Docker ===
docker-compose.yml
Dockerfile
Dockerfile.*
.dockerignore

# === CI/CD (not needed in image) ===
[% if include_github_actions -%]
.github/
[% endif -%]

# === Scripts (not needed in runtime) ===
scripts/
[% if include_justfile -%]
justfile
[% endif -%]

# === Dev Tools ===
.copier-answers.yml
copier.yml

# === Temporary Files ===
temp/
tmp/
*.tmp
*.bak
*.swp

# === Virtual Environments ===
venv/
.venv/
ENV/
env/
.venv-*/

[% if project_type == 'mcp_server' -%]
# === MCP Server Specific ===
.chora/memory/events/**/*.json
.chora/memory/knowledge/**/*.md
config/event_mappings.yaml
chora-configs/

[% endif -%]
[% if project_type == 'web_service' -%]
# === Web Service Specific ===
static/
media/
uploads/

[% endif -%]
# === Project-Specific ===
# Add your custom exclusions below:
